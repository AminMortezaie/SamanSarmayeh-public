
'''CREATE TABLE Stock
(STOCK_ID SERIAL PRIMARY KEY NOT NULL,
NAME          varchar     NOT NULL,
URL          varchar     NOT NULL,
DATA_URL          varchar     NOT NULL,
PAYMENT_DATE          DATE    NOT NULL,
COLOR          varchar,
CREATED_AT TIMESTAMPTZ NOT NULL DEFAULT NOW() ); '''


'''CREATE TABLE Old_Stocks
(ID SERIAL NOT NULL,
OLD_STOCK_ID INT  NOT NULL,
created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
PRIMARY KEY(ID,OLD_STOCK_ID),
FOREIGN KEY(OLD_STOCK_ID)
REFERENCES STOCK(STOCK_ID)
); '''


'''CREATE TABLE Stocks
(ID SERIAL NOT NULL,
STOCK_ID INT  NOT NULL,
created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
PRIMARY KEY(ID,STOCK_ID),
FOREIGN KEY(STOCK_ID)
REFERENCES STOCK(STOCK_ID)
); '''



'''CREATE TABLE TRADES
(TRADE_ID SERIAL NOT NULL UNIQUE,
STOCK_ID INT  NOT NULL,
TIME TIME NOT NULL,
PRICE INT NOT NULL,
VOLUME INT NOT NULL,
YTM FLOAT NOT NULL,
DATE_SHAMSI VARCHAR NOT NULL,
DATE_MILADI DATE NOT NULL,
created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
PRIMARY KEY(TRADE_ID,STOCK_ID),
FOREIGN KEY(STOCK_ID)
REFERENCES STOCK(STOCK_ID)
); '''



'''CREATE TABLE OLD_TRADES
(TRADE_ID SERIAL NOT NULL,
OLD_STOCK_ID INT  NOT NULL,
TIME TIME NOT NULL,
PRICE INT NOT NULL,
VOLUME INT NOT NULL,
YTM FLOAT NOT NULL,
DATE_SHAMSI VARCHAR NOT NULL,
DATE_MILADI DATE NOT NULL,
created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
PRIMARY KEY(TRADE_ID,OLD_STOCK_ID),
FOREIGN KEY(OLD_STOCK_ID)
REFERENCES STOCK(STOCK_ID)
); '''


'''CREATE TABLE ANALYZE_OPTIONS
(OPTION_ID SERIAL NOT NULL,
TRADE_ID_BUY INT  NOT NULL,
TRADE_ID_SELL INT  NOT NULL,
DELTA_PRICE INT NOT NULL,
DELTA_YTM FLOAT NOT NULL,
DELTA_DATE VARCHAR NOT NULL,
PROFIT_PERCENT FLOAT NOT NULL,
created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
PRIMARY KEY(OPTION_ID,TRADE_ID_BUY,TRADE_ID_SELL),
FOREIGN KEY(TRADE_ID_BUY)
REFERENCES TRADES(TRADE_ID),
FOREIGN KEY(TRADE_ID_SELL)
REFERENCES TRADES(TRADE_ID)
); '''
